
<!doctype html>
<html lang="en-us">
  <head>
    
      <meta charset="utf-8">
      <title>&#39;templatel - Home</title>
      <meta name="description" content="">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://clarete.li/templatel/static/style.css" type="text/css" />
    
  </head>
  <body>
    <div class="document">
      
      

      
      
  <div class="page index">
    <div class="banner">
      <h1>&#39;templatel</h1>
      <div class="sub">
        A modern templating language for Emacs-Lisp
      </div>
    </div>

    <div class="menu">
      <ul>
        <li><a href="https://clarete.li/templatel/doc/index.html">documentation</a></li>
        <li><a href="https://clarete.li/templatel/api.html">api reference</a></li>
        <li><a href="https://github.com/clarete/templatel" target="_blank">github</a></li>
      </ul>
    </div>

    <div class="content">
      <article>
        
<div id="outline-container-introduction" class="outline-2">
<h2 id="introduction">Introduction</h2>
<div class="outline-text-2">
<p>
<i>templatel</i> is the modern templating language that was missing for
Emacs-Lisp.  It provides variable substitution and control flow
through a clean and powerful language inspired by Python's <a href="https://jinja.palletsprojects.com/">Jinja</a>.
</p>

<div class="org-src-container">
<pre class="src src-jinja2"><span class="org-function-name">{%</span> <span class="org-builtin">extends</span> <span class="org-string">"base.html"</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">block</span> title <span class="org-function-name">%}</span>&lt;<span class="org-function-name">h1</span>&gt;<span class="org-type">{{</span><span class="org-underline"><span class="org-bold"> </span></span><span class="org-variable-name">title</span><span class="org-underline"><span class="org-bold"> </span></span><span class="org-type">}}</span>&lt;/<span class="org-function-name">h1</span>&gt;<span class="org-function-name">{%</span> <span class="org-keyword">endblock</span> <span class="org-function-name">%}</span>
<span class="org-function-name">{%</span> <span class="org-keyword">block</span> body <span class="org-function-name">%}</span>
  &lt;<span class="org-function-name">ul</span>&gt;
    <span class="org-function-name">{%</span> <span class="org-keyword">for</span> page <span class="org-builtin">in</span> pages <span class="org-function-name">%}</span>
      &lt;<span class="org-function-name">li</span>&gt;&lt;<span class="org-function-name">a</span> <span class="org-variable-name">href</span>=<span class="org-string">"</span><span class="org-type">{{</span><span class="org-string"> </span><span class="org-variable-name">page.url</span><span class="org-string"> </span><span class="org-type">}}</span><span class="org-string">"</span>&gt;<span class="org-type">{{</span> <span class="org-variable-name">page.title</span> <span class="org-type">}}</span>&lt;/<span class="org-function-name">a</span>&gt;&lt;/<span class="org-function-name">li</span>&gt;
    <span class="org-function-name">{%</span> <span class="org-keyword">endfor</span> <span class="org-function-name">%}</span>
  &lt;/<span class="org-function-name">ul</span>&gt;
<span class="org-function-name">{%</span> <span class="org-keyword">endblock</span> <span class="org-function-name">%}</span>
</pre>
</div>

<p>
Visit the <a href="https://clarete.li/templatel/api.html">API Reference</a> for more details
</p>
</div>
</div>

<div id="outline-container-installation" class="outline-2">
<h2 id="installation">Installation</h2>
<div class="outline-text-2" id="text-installation">
</div>
<div id="outline-container-via-melpa" class="outline-3">
<h3 id="via-melpa">Via Melpa</h3>
<div class="outline-text-3">
<p>
The simplest and recommended way to get yourself a copy of
<code>templatel</code> is to install it via <a href="https://melpa.org">MELPA</a>.  You must have something
along these lines on your Emacs configuration for that to work:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(package-initialize)
(add-to-list 'package-archives '(<span class="org-string">"melpa"</span> . <span class="org-string">"http://melpa.org/packages/"</span>))
</pre>
</div>

<p>
And then run <code>M-x package-install RET templatel RET</code>.  Notice that
you might need to run <code>M-x package-refresh-contents RET</code> if you
haven't done that in a while.
</p>
</div>
</div>

<div id="outline-container-manually" class="outline-3">
<h3 id="manually">Manually</h3>
<div class="outline-text-3">
<p>
If you don't want to use any package installer, you can just clone
the repository somewhere on your computer, let's say
<code>$HOME/src/templatel</code>.  And then you need to add that directory to
your Emacs configuration so the library can be found by <code>require</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path <span class="org-string">"~/src/templatel"</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-project-status" class="outline-2">
<h2 id="project-status">Project Status</h2>
<div class="outline-text-2">
<p>
Although <i>templatel</i> has been been functional since it's very first
lil version, it's still too early to say it's stable.  Until we
reach 1.0, expect changes in the <code>API</code> as well as in the language
itself.  That being said, there will be an effort to keep
compatibility with previous versions.
</p>
</div>
</div>

<div id="outline-container-differences-from-jinja" class="outline-2">
<h2 id="differences-from-jinja">Differences from Jinja</h2>
<div class="outline-text-2">
<p>
There are a few things that won't ever be the same, because jinja
was designed for Python and templatel is designed for Emacs Lisp.
Most of these differences come out subtly like the rules for
truthiness in the two host languages.
</p>

<p>
Templatel doesn't implement the following features:
</p>

<ul class="org-ul">
<li>Some built-in filters</li>
<li>For loop variables (loop.index, loop.first, loop.last, etc)</li>
<li>Whitespace Control</li>
<li>List and tuple literals</li>
<li>Else branch in for loops</li>
<li>Macros, Macro Calls and Import</li>
<li>Named Block End-Tags</li>
<li>Extensible Syntax</li>
<li>Autoescape Overrides</li>
<li>Assignments/Block Assignments</li>
<li>With Statement</li>
<li>Dictionary Syntax (access items with square brackets)</li>
<li>Line Statements</li>
</ul>

<p>
They are roughly sorted by how likely it would be for them to be
implemented in templatel.  Pull requests for making templatel more
compatible to jinja are always welcome.
</p>
</div>
</div>

<div id="outline-container-changelog" class="outline-2">
<h2 id="changelog">Changelog</h2>
<div class="outline-text-2" id="text-changelog">
</div>
<div id="outline-container-0-1-6" class="outline-3">
<h3 id="0-1-6">0.1.6</h3>
<div class="outline-text-3">
<ul class="org-ul">
<li>Default variables to <code>undefined</code> instead of raising an error</li>
<li>Added test operator <code>is</code> that is another syntax for passing
parameters to functions that have a defined signature, they must
return a Boolean value. e.g.: <code>{% if something is defined %}</code>.</li>
<li>Support <code>{% include %}</code> statements (Thanks to <a href="https://github.com/guilhermecomum/">Guilherme Guerra</a>)</li>
<li>New tests added: <code>defined</code>, <code>divisible</code></li>
<li>New filters added: <code>take</code> (Thanks to <a href="https://github.com/markokocic">Marko KociÄ‡</a>), <code>abs</code>,
capitalize, <code>escape</code> (<code>e</code>), <code>float</code>, <code>join</code>, <code>length</code>, <code>max</code>,
<code>min</code>, <code>round</code>, and <code>title</code>.  Documentation is still ongoing, and
help is wanted :)</li>
<li>Filter deprecated: <code>getattr</code>, please use <code>attr</code> instead</li>
<li>fix: for loop must access expression via value stack [<a href="https://github.com/clarete/templatel/commit/42be57bed82335636ce159bcb861f28377ec6c0c">commit</a>]</li>
<li>fix: parsing floating point numbers [<a href="https://github.com/clarete/templatel/commit/80b2b355da92b4bb37b4ffa373cfafc562d60f1a">commit</a>]</li>
<li>fix: filter operator precedence [<a href="https://github.com/clarete/templatel/commit/7e6034ec20b633ac6e8a9acd1b2cfc7126d1a30a">commit</a>]</li>
<li>fix: operators for remainder of division (<code>%</code>) and exponential
<code>**</code> implemented.  They were present in the sintax but didn't
have an implementation</li>
</ul>
</div>
</div>

<div id="outline-container-0-1-5" class="outline-3">
<h3 id="0-1-5">0.1.5</h3>
<div class="outline-text-3">
<ul class="org-ul">
<li>New filters added: <code>first</code>, <code>last</code>, <code>getattr</code> and <code>default</code></li>
<li>New API for removing a template from an environment by name:
<code>templatel-env-remove-template</code></li>
<li>Fix inheritance so both <code>extends</code> and <code>super()</code> work
recursively. E.g.: <code>post.html</code> extends <code>base_post.html</code> that
extends <code>base.html</code>.</li>
<li>Render <code>nil</code> value as an empty string instead of inserting the
<code>"nil"</code> string into the output file</li>
</ul>
</div>
</div>

<div id="outline-container-0-1-4" class="outline-3">
<h3 id="0-1-4">0.1.4</h3>
<div class="outline-text-3">
<ul class="org-ul">
<li>Add support for automatic HTML entity escaping</li>
<li>Fix reading UTF-8 characters with more than one byte</li>
<li>Documentation overhauling</li>
</ul>
</div>
</div>

<div id="outline-container-0-1-3" class="outline-3">
<h3 id="0-1-3">0.1.3</h3>
<div class="outline-text-3">
<ul class="org-ul">
<li>Support for named arguments on filters.  They are passed to the
handler as an <code>assoc</code> list. E.g.: <code>{{ foo(var1="val", var2=2) }}</code>
will get <code>((var1 . val) (var2 . 2))</code> as the only parameter.
Named and positional arguments can be mixed, but the Emacs-Lisp
handler will have to deal with the order.</li>
</ul>
</div>
</div>

<div id="outline-container-0-1-2" class="outline-3">
<h3 id="0-1-2">0.1.2</h3>
<div class="outline-text-3">
<ul class="org-ul">
<li>Support for user defined filter functions via
<code>templatel-env-add-filter</code> and <code>templatel-env-remove-filter</code>.</li>
<li>Fix parsing expressions and statements without spaces after
brackets, e.g.: <code>{{var}}</code>, <code>{%if stuff%}</code></li>
<li>Parse and evaluate standalone function calls.  E.g.: <code>{{ super() }}</code></li>
<li>Breaking change: <code>super()</code> is now a function, not a variable
anymore.  But still only exists while blocks are evaluated</li>
</ul>
</div>
</div>

<div id="outline-container-0-1-1" class="outline-3">
<h3 id="0-1-1">0.1.1</h3>
<div class="outline-text-3">
<ul class="org-ul">
<li>Fix <code>elif</code> without else statements</li>
<li>Make <code>templatel-env-{source,run-importfn}</code> private</li>
<li>Pretty big refactoring cleaning up the symbol names</li>
<li>Documentation of the project was kicked off</li>
</ul>
</div>
</div>
</div>

      </article>
    </div>
  </div>


      
      
        <div class="footer">
          <ul>
            <li><a href="https://clarete.li/templatel/">home</a></li>
            <li><a href="https://clarete.li/templatel/doc/index.html">documentation</a></li>
            <li><a href="https://clarete.li/templatel/api.html">api reference</a></li>
            <li><a href="https://github.com/clarete/templatel" target="_blank">github</a></li>
          </ul>
          <div class="ack">
            Made with &#x2665; and
            <a href="https://www.gnu.org/software/emacs/" target="_blank" class="M-x">
              <img src="https://clarete.li/templatel/static/emacs-bw.svg" width="16" height="16" />
            </a>
            by
            <a href="https://clarete.li" target="_blank">
              @clarete
            </a>
          </div>
        </div>
      
    </div>
  </body>
</html>
